{% extends "base.html" %} {% block content %}
<div class="d-flex justify-content-center">
  <div class="col-lg-8 col-xl-6">
    <h1 class="h3 mb-2">
      {% if equipment %}Edit Equipment{% else %}Add Equipment{% endif %}
    </h1>
    <p class="text-muted mb-4">
      Use this form to manage items in the lab inventory. All core fields are
      required so reservations and loans can be tracked correctly.
    </p>

    <div class="card shadow-sm">
      <div class="card-body">
        <form
          method="POST"
          action="{% if equipment %}
                    {{ url_for('equipment_edit', equipment_id=equipment.equipment_id) }}
                  {% else %}
                    {{ url_for('equipment_create') }}
                  {% endif %}"
        >
          <!-- Name -->
          <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input
              type="text"
              class="form-control"
              id="name"
              name="name"
              placeholder="e.g., Canon DSLR 1"
              value="{{ equipment.name if equipment else '' }}"
              required
            />
            <div class="form-text">
              A clear, recognizable name for the item (students will see this on
              the portal).
            </div>
          </div>

          <!-- Category -->
          <div class="mb-3">
            <label for="category" class="form-label">Category</label>
            <input
              type="text"
              class="form-control"
              id="category"
              name="category"
              placeholder="Camera / Lens / Tripod / Projector"
              value="{{ equipment.category if equipment else '' }}"
              required
            />
            <div class="form-text">
              Used for grouping items in reports and filters (e.g.,
              <code>Camera</code>, <code>Lens</code>).
            </div>
          </div>

          <!-- Serial Number -->
          <div class="mb-3">
            <label for="serial_number" class="form-label">Serial Number</label>
            <input
              type="text"
              class="form-control"
              id="serial_number"
              name="serial_number"
              placeholder="e.g., SN-1001 or CAM-WSU-001"
              value="{{ equipment.serial_number if equipment else '' }}"
              required
            />
            <div class="form-text">
              A unique identifier printed on the device. This is required to
              track loans accurately.
            </div>
          </div>

          <!-- Condition -->
          <div class="mb-3">
            <label for="condition" class="form-label">Condition</label>
            <input
              type="text"
              class="form-control"
              id="condition"
              name="condition"
              placeholder="Good / Needs Service / Damaged"
              value="{{ equipment.condition if equipment else 'Good' }}"
            />
            <div class="form-text">
              Optional note about current condition. Defaults to
              <strong>Good</strong> if left empty.
            </div>
          </div>

          <!-- Location -->
          <div class="mb-3">
            <label for="location" class="form-label">Location</label>
            <input
              type="text"
              class="form-control"
              id="location"
              name="location"
              placeholder="e.g., Ahlberg 200 / Lab B"
              value="{{ equipment.location if equipment else '' }}"
              required
            />
            <div class="form-text">
              Physical storage location so students and staff know where to pick
              up / return the item.
            </div>
          </div>

          <!-- Daily Limit -->
          <div class="mb-3">
            <label for="daily_limit" class="form-label">Daily Limit</label>
            <input
              type="number"
              class="form-control"
              id="daily_limit"
              name="daily_limit"
              min="1"
              value="{{ equipment.daily_limit if equipment else 1 }}"
              required
            />
            <div class="form-text">
              Maximum days this item can be loaned out per reservation (e.g.,
              1â€“3 days).
            </div>
          </div>

          <div class="alert alert-info small">
            Ensure all required fields are filled. Serial Number and Location
            are especially important for tracking reservations and returns.
          </div>

          <!-- Actions -->
          <div class="d-flex justify-content-between mt-4">
            <a
              href="{{ url_for('equipment_list') }}"
              class="btn btn-outline-secondary"
            >
              Cancel
            </a>
            <button type="submit" class="btn btn-primary">
              {% if equipment %}Save Changes{% else %}Save Equipment{% endif %}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
